!function(C,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@cgps/phylocanvas")):"function"==typeof define&&define.amd?define(["@cgps/phylocanvas"],e):"object"==typeof exports?exports.PhylocanvasPluginContextMenu=e(require("@cgps/phylocanvas")):C.PhylocanvasPluginContextMenu=e(C["@cgps/phylocanvas"])}(window,(function(C){return function(C){var e={};function t(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return C[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=C,t.c=e,t.d=function(C,e,n){t.o(C,e)||Object.defineProperty(C,e,{enumerable:!0,get:n})},t.r=function(C){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},t.t=function(C,e){if(1&e&&(C=t(C)),8&e)return C;if(4&e&&"object"==typeof C&&C&&C.__esModule)return C;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:C}),2&e&&"string"!=typeof C)for(var r in C)t.d(n,r,function(e){return C[e]}.bind(null,r));return n},t.n=function(C){var e=C&&C.__esModule?function(){return C.default}:function(){return C};return t.d(e,"a",e),e},t.o=function(C,e){return Object.prototype.hasOwnProperty.call(C,e)},t.p="/dist/",t(t.s=1)}([function(e,t){e.exports=C},function(C,e,t){"use strict";t.r(e);var n=t(0);function r(C){C.contextMenu.el.classList.remove("visible"),C.contextMenu.isOpen=!1}function a(C){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(0===e.length)return C;var t=C.map((function(C){return Array.from(C)})),n=!0,r=!1,a=void 0;try{for(var o,c=function(){var C=o.value;t[C.section].splice(C.index,0,{text:C.text,handler:C.handler?C.handler:function(e,t){return e.trigger(C.method,[e,t])},isActive:C.isActive})},i=e[Symbol.iterator]();!(n=(o=i.next()).done);n=!0)c()}catch(C){r=!0,a=C}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return t}function o(C,e,t){var n=C.contextMenu.el,r=document.createElement("ul"),a=!0,o=!1,c=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done);a=!0){var u=i.value,s=null;if(u instanceof HTMLElement)(s=document.createElement("li")).appendChild(u);else if("function"==typeof u){var d=u(C,t);d&&(s=document.createElement("li")).appendChild(d)}else!function(){var e=u.text,n=u.handler,r=u.visible,a=u.isActive;if(!r||r(C)){s=document.createElement("li");var o="function"==typeof a,c=document.createElement("button");c.addEventListener("click",(function(){o&&(C.contextMenu.invalidate=!1),n(C,t)}));var i="function"==typeof e?e(C,t):e;if(c.appendChild(document.createTextNode(i)),o){var l=document.createElement("span");l.classList.add("phylocanvas-context-menu-toggle"),a(C,t)&&l.classList.add("is-active"),c.appendChild(l),c.classList.add("phylocanvas-context-menu-has-toggle"),s.addEventListener("click",(function(){a(C,t)?l.classList.add("is-active"):l.classList.remove("is-active")}))}s.appendChild(c)}}();s&&(u.isActive||s.addEventListener("click",(function(){return C.contextMenu.close()})),s.addEventListener("contextmenu",(function(C){return C.preventDefault(),!1})),r.appendChild(s))}}catch(C){o=!0,c=C}finally{try{a||null==l.return||l.return()}finally{if(o)throw c}}r.hasChildNodes()&&n.appendChild(r)}function c(C,e,t,n){return C+e<t+n?C:C-e>t?C-e:t}var i=function(C,e,t){var n=C.el,r=C.parent;n.classList.remove("visible","top","bottom","left","right"),n.style.top=n.style.bottom=n.style.left=n.style.right=null;var a=n.offsetWidth,o=n.offsetHeight,i=c(t,o,window.scrollY,window.innerHeight),l=c(e,a,window.scrollX,window.innerWidth),u=i+o/2>t,s=l+a/2>e;n.style.left="".concat(l,"px"),n.style.top="".concat(i,"px"),n.style.transformOrigin="".concat(u?"top":"bottom"," ").concat(s?"left":"right"),r.removeChild(n),r.appendChild(n),n.offsetWidth,n.classList.add("visible")};function l(C,e,t,n){var r=n?C.getNodeById(n):null;!function(C,e){for(var t=C.contextMenu.el;t.hasChildNodes();)t.removeChild(t.firstChild);var n=e&&!e.isLeaf?C.contextMenu.nodeMenuItems:C.contextMenu.treeMenuItems,r=!0,a=!1,c=void 0;try{for(var i,l=n[Symbol.iterator]();!(r=(i=l.next()).done);r=!0){o(C,i.value,e||void 0)}}catch(C){a=!0,c=C}finally{try{r||null==l.return||l.return()}finally{if(a)throw c}}}(C,r),i(C.contextMenu,e,t),C.contextMenu.isOpen=!0}var u,s,d=[(u=document.createElement("a"),s=document.createElement("img"),s.src="data:image/svg+xml;utf8,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22Micro%22%20viewBox%3D%220%200%20433.16%20103.04%22%3E%3Cdefs%3E%3Cstyle%3E.cls-1%7Bisolation%3Aisolate%3B%7D.cls-2%7Bfill%3A%233b7383%3B%7D.cls-3%7Bopacity%3A0.53%3B%7D%3C%2Fstyle%3E%3C%2Fdefs%3E%3Ctitle%3ELOGOS%20OCT%202018%3C%2Ftitle%3E%3Cg%20class%3D%22cls-1%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M110.22%2C28.17H126c3.28%2C0%2C5.75.58%2C7.39%2C1.73a7.58%2C7.58%2C0%2C0%2C1%2C3.14%2C4.54%2C32.31%2C32.31%2C0%2C0%2C1%2C.67%2C7.3%2C31.25%2C31.25%2C0%2C0%2C1-.7%2C7.2%2C7.87%2C7.87%2C0%2C0%2C1-3.14%2C4.61c-1.62%2C1.17-4.08%2C1.76-7.36%2C1.76h-12.1V72.2h-3.71Zm15%2C23.81a10.15%2C10.15%2C0%2C0%2C0%2C5.47-1.15A5.25%2C5.25%2C0%2C0%2C0%2C133%2C47.6a26%2C26%2C0%2C0%2C0%2C.51-5.86%2C27.48%2C27.48%2C0%2C0%2C0-.48-5.89%2C5%2C5%2C0%2C0%2C0-2.27-3.17%2C10.71%2C10.71%2C0%2C0%2C0-5.51-1.12H113.93V52Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M165.45%2C52.75a29.42%2C29.42%2C0%2C0%2C0-.57-6.91A4%2C4%2C0%2C0%2C0%2C162.73%2C43a13.56%2C13.56%2C0%2C0%2C0-5.15-.7q-4%2C0-5.86%2C1.56a6.85%2C6.85%2C0%2C0%2C0-2.27%2C4.1%2C44.88%2C44.88%2C0%2C0%2C0-.45%2C7.33V72.2h-3.58V24.65H149V43.92h.26a7.06%2C7.06%2C0%2C0%2C1%2C3-3.52q2.17-1.35%2C6.59-1.35a13.48%2C13.48%2C0%2C0%2C1%2C6.53%2C1.25%2C6.16%2C6.16%2C0%2C0%2C1%2C2.91%2C3.87A29%2C29%2C0%2C0%2C1%2C169%2C51.6V72.2h-3.59Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M180.17%2C84.75V81.68q4.94.31%2C9%2C.32c3%2C0%2C5.24-.41%2C6.65-1.22A5.74%2C5.74%2C0%2C0%2C0%2C198.6%2C77a34.38%2C34.38%2C0%2C0%2C0%2C.64-7.71V67.72h-.32A6.69%2C6.69%2C0%2C0%2C1%2C196%2C71.31q-2.17%2C1.34-6.66%2C1.34c-2.9%2C0-5.06-.42-6.49-1.28a6.32%2C6.32%2C0%2C0%2C1-2.88-4%2C30.7%2C30.7%2C0%2C0%2C1-.74-7.68V39.56h3.59V59a29.12%2C29.12%2C0%2C0%2C0%2C.57%2C6.85%2C4%2C4%2C0%2C0%2C0%2C2.15%2C2.81%2C13.28%2C13.28%2C0%2C0%2C0%2C5.08.71q4%2C0%2C5.89-1.54a6.59%2C6.59%2C0%2C0%2C0%2C2.31-4.09%2C46.38%2C46.38%2C0%2C0%2C0%2C.44-7.3V39.56h3.59V67.85a43%2C43%2C0%2C0%2C1-1%2C10.4%2C8.37%2C8.37%2C0%2C0%2C1-3.71%2C5.28q-2.76%2C1.66-8.32%2C1.67A94.52%2C94.52%2C0%2C0%2C1%2C180.17%2C84.75Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M213.13%2C72.2V24.65h3.59V72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M229.77%2C71.4a6.29%2C6.29%2C0%2C0%2C1-3.26-4.6A58.17%2C58.17%2C0%2C0%2C1%2C225.8%2C56%2C58.48%2C58.48%2C0%2C0%2C1%2C226.51%2C45a6.38%2C6.38%2C0%2C0%2C1%2C3.26-4.64c1.71-.9%2C4.52-1.35%2C8.45-1.35s6.79.45%2C8.48%2C1.35A6.52%2C6.52%2C0%2C0%2C1%2C250%2C45%2C56.15%2C56.15%2C0%2C0%2C1%2C250.7%2C56%2C55.85%2C55.85%2C0%2C0%2C1%2C250%2C66.8a6.42%2C6.42%2C0%2C0%2C1-3.26%2C4.6c-1.69.88-4.51%2C1.32-8.48%2C1.32S231.48%2C72.28%2C229.77%2C71.4Zm14.72-2.78a4.48%2C4.48%2C0%2C0%2C0%2C2.21-3.49%2C66%2C66%2C0%2C0%2C0%2C.42-9.18%2C67%2C67%2C0%2C0%2C0-.42-9.22%2C4.61%2C4.61%2C0%2C0%2C0-2.21-3.55c-1.19-.66-3.29-1-6.27-1s-5.07.33-6.24%2C1a4.61%2C4.61%2C0%2C0%2C0-2.18%2C3.52%2C69.07%2C69.07%2C0%2C0%2C0-.41%2C9.25%2C68.13%2C68.13%2C0%2C0%2C0%2C.41%2C9.18A4.5%2C4.5%2C0%2C0%2C0%2C232%2C68.62q1.76%2C1%2C6.24%2C1C241.2%2C69.58%2C243.3%2C69.26%2C244.49%2C68.62Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M274.28%2C72.46a38.71%2C38.71%2C0%2C0%2C1-4.32.26c-3.63%2C0-6.3-.58-8-1.73a7.86%2C7.86%2C0%2C0%2C1-3.33-5.12%2C50.73%2C50.73%2C0%2C0%2C1-.73-10%2C43.71%2C43.71%2C0%2C0%2C1%2C.86-10%2C8.36%2C8.36%2C0%2C0%2C1%2C3.42-5.18q2.57-1.7%2C7.68-1.7a37.92%2C37.92%2C0%2C0%2C1%2C4.29.26%2C26.45%2C26.45%2C0%2C0%2C1%2C3.71.64v4.93a35.76%2C35.76%2C0%2C0%2C0-6.46-.58%2C9.62%2C9.62%2C0%2C0%2C0-4.77.9%2C4.57%2C4.57%2C0%2C0%2C0-2%2C3.23%2C41%2C41%2C0%2C0%2C0-.48%2C7.45%2C39.8%2C39.8%2C0%2C0%2C0%2C.51%2C7.56%2C4.47%2C4.47%2C0%2C0%2C0%2C2%2C3.2%2C10.53%2C10.53%2C0%2C0%2C0%2C4.83.83%2C35.91%2C35.91%2C0%2C0%2C0%2C6.59-.58v4.93A28.78%2C28.78%2C0%2C0%2C1%2C274.28%2C72.46Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M285.48%2C70.54q-2.21-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92%2C22.33%2C22.33%2C0%2C0%2C0-5.38-.45c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9q5.31%2C0%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2h-5.64L302.22%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q287.69%2C72.72%2C285.48%2C70.54ZM298.7%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55H294a9.3%2C9.3%2C0%2C0%2C0-2.95.35%2C2.19%2C2.19%2C0%2C0%2C0-1.34%2C1.41%2C10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C298.7%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M335.62%2C54a33.45%2C33.45%2C0%2C0%2C0-.41-6.37%2C3.33%2C3.33%2C0%2C0%2C0-1.57-2.46%2C9.56%2C9.56%2C0%2C0%2C0-4-.58%2C6.79%2C6.79%2C0%2C0%2C0-4.35%2C1.15%2C5.33%2C5.33%2C0%2C0%2C0-1.79%2C3.33%2C37.72%2C37.72%2C0%2C0%2C0-.38%2C6.21V72.2h-6.21V39.56h5.63l.26%2C4.36h.44a7.45%2C7.45%2C0%2C0%2C1%2C3.2-3.62%2C11.88%2C11.88%2C0%2C0%2C1%2C5.89-1.25%2C11.25%2C11.25%2C0%2C0%2C1%2C6.05%2C1.31%2C6.53%2C6.53%2C0%2C0%2C1%2C2.72%2C3.94%2C29.52%2C29.52%2C0%2C0%2C1%2C.7%2C7.3V72.2h-6.21Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M357.32%2C72.2l-9.86-32.64h6.4l7.3%2C26.05h.51l7.23-26h6.34L365.38%2C72.2Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M380.71%2C70.54q-2.2-2.17-2.21-7.42a16.46%2C16.46%2C0%2C0%2C1%2C.84-5.89%2C5.51%2C5.51%2C0%2C0%2C1%2C2.81-3.07%2C13.06%2C13.06%2C0%2C0%2C1%2C5.57-1c2.18%2C0%2C5.31.08%2C9.41.25V51.72a15.23%2C15.23%2C0%2C0%2C0-.58-5%2C3.09%2C3.09%2C0%2C0%2C0-2.17-1.92A22.33%2C22.33%2C0%2C0%2C0%2C389%2C44.3c-1.19%2C0-2.69.06-4.48.19s-3.18.28-4.16.45V40a57.8%2C57.8%2C0%2C0%2C1%2C10.62-.9c3.55%2C0%2C6.19.41%2C7.94%2C1.22a6.38%2C6.38%2C0%2C0%2C1%2C3.52%2C3.87%2C25.3%2C25.3%2C0%2C0%2C1%2C.9%2C7.71V72.2H397.7L397.45%2C68h-.39a6.59%2C6.59%2C0%2C0%2C1-3.68%2C3.78%2C15.69%2C15.69%2C0%2C0%2C1-5.72%2C1Q382.92%2C72.72%2C380.71%2C70.54ZM393.93%2C67a4%2C4%2C0%2C0%2C0%2C2.17-1.92%2C13.75%2C13.75%2C0%2C0%2C0%2C1-6V57.55h-7.87a9.3%2C9.3%2C0%2C0%2C0-2.95.35A2.19%2C2.19%2C0%2C0%2C0%2C385%2C59.31a10.18%2C10.18%2C0%2C0%2C0-.39%2C3.29%2C8.78%2C8.78%2C0%2C0%2C0%2C.42%2C3.14%2C2.44%2C2.44%2C0%2C0%2C0%2C1.6%2C1.41%2C13.17%2C13.17%2C0%2C0%2C0%2C3.68.38A10.93%2C10.93%2C0%2C0%2C0%2C393.93%2C67Z%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M416.58%2C72.46c-2-.17-3.73-.36-5.18-.58v-5a77.88%2C77.88%2C0%2C0%2C0%2C9.79.58A12.66%2C12.66%2C0%2C0%2C0%2C425.1%2C67a2.63%2C2.63%2C0%2C0%2C0%2C1.66-1.34%2C6.93%2C6.93%2C0%2C0%2C0%2C.38-2.63%2C10.13%2C10.13%2C0%2C0%2C0-.25-2.72%2C1.7%2C1.7%2C0%2C0%2C0-.9-1.09%2C8.75%2C8.75%2C0%2C0%2C0-2.24-.48l-7-1c-2.43-.29-4.07-1.14-4.93-2.52s-1.28-3.58-1.28-6.56a10.91%2C10.91%2C0%2C0%2C1%2C1.41-6.08%2C6.88%2C6.88%2C0%2C0%2C1%2C3.87-2.85%2C22.85%2C22.85%2C0%2C0%2C1%2C6.37-.74c1.62%2C0%2C3.32.09%2C5.09.26a27%2C27%2C0%2C0%2C1%2C4.32.7v4.93a60.27%2C60.27%2C0%2C0%2C0-9-.64%2C10%2C10%2C0%2C0%2C0-4.74.8c-.89.53-1.34%2C1.7-1.34%2C3.49a9.81%2C9.81%2C0%2C0%2C0%2C.22%2C2.49%2C1.65%2C1.65%2C0%2C0%2C0%2C.87%2C1.09%2C6.53%2C6.53%2C0%2C0%2C0%2C2.05.51l7.23.9a9.89%2C9.89%2C0%2C0%2C1%2C3.61%2C1.09%2C4.77%2C4.77%2C0%2C0%2C1%2C2%2C2.65%2C17.4%2C17.4%2C0%2C0%2C1%2C.67%2C5.54A12.27%2C12.27%2C0%2C0%2C1%2C431.91%2C69a6.46%2C6.46%2C0%2C0%2C1-3.65%2C3%2C20.26%2C20.26%2C0%2C0%2C1-6.24.8C420.4%2C72.72%2C418.59%2C72.63%2C416.58%2C72.46Z%22%2F%3E%3C%2Fg%3E%3Cg%20class%3D%22cls-3%22%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.84.07h-.33a14.31%2C14.31%2C0%2C0%2C0-14%2C14.63v0h0v0a28.13%2C28.13%2C0%2C0%2C1-1.29%2C9.09%2C28.63%2C28.63%2C0%2C0%2C1-5.42%2C9.92%2C28.56%2C28.56%2C0%2C0%2C1-35.57%2C6.69h0A14.3%2C14.3%2C0%2C1%2C0%2C14.37%2C67.3a14.45%2C14.45%2C0%2C0%2C0%2C7-1.82c.15-.11.31-.21.47-.31h0l.48-.29A28.53%2C28.53%2C0%2C0%2C1%2C36.71%2C61a28%2C28%2C0%2C0%2C1%2C5%2C.45%2C28.45%2C28.45%2C0%2C0%2C1%2C7.65%2C2.49l0%2C0c.72.35%2C1.44.74%2C2.13%2C1.16h0a27.94%2C27.94%2C0%2C0%2C1%2C6.19%2C5.07%2C28.86%2C28.86%2C0%2C0%2C1%2C3.4%2C4.5%2C28.81%2C28.81%2C0%2C0%2C1%2C4.15%2C13.53c0%2C.22%2C0%2C.44%2C0%2C.66s0%2C.49%2C0%2C.74A14.3%2C14.3%2C0%2C1%2C0%2C86.46%2C76.09L86.34%2C76h0A28.6%2C28.6%2C0%2C0%2C1%2C72.86%2C42.53a29.14%2C29.14%2C0%2C0%2C1%2C2.23-5.24%2C28.57%2C28.57%2C0%2C0%2C1%2C3.19-4.68%2C28.25%2C28.25%2C0%2C0%2C1%2C6.92-6h0A14.3%2C14.3%2C0%2C0%2C0%2C77.84.07%22%2F%3E%3C%2Fg%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M14.37%2C38.56a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.28%2C14.28%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M79.58%2C74.27a14.39%2C14.39%2C0%2C1%2C0%2C12.3%2C6.9%2C14.36%2C14.36%2C0%2C0%2C0-12.3-6.9%22%2F%3E%3Cpath%20class%3D%22cls-2%22%20d%3D%22M77.87%2C0A14.39%2C14.39%2C0%2C1%2C0%2C90.16%2C6.9%2C14.37%2C14.37%2C0%2C0%2C0%2C77.87%2C0%22%2F%3E%3C%2Fsvg%3E",u.appendChild(s),u.title="About Phylocanvas...",u.href="http://phylocanvas.org/",u.target="_blank",u.className="phylocanvas-context-menu-about",u)],f=window.URL||window.webkitURL;function p(C){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text/plain;charset=utf-8",t=new Blob([C],{type:e});return f.createObjectURL(t)}function v(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",t=arguments.length>2?arguments[2]:void 0,n=document.createElement("a");return n.appendChild(document.createTextNode(C)),n.download=e,n.addEventListener("click",(function(){n.href=t()})),n}function h(C,e,t){return v(t,C.contextMenu.filenames.leafLabels,(function(){return p(C.getLeafLabels(e).join("\n"))}))}function m(C,e,t){return v(t,C.contextMenu.filenames.newick,(function(){return p(C.getNewick(e))}))}var x=[[{text:"Show labels",handler:function(C){return C.toggleLeafLabels()},isActive:function(C){return C.state.renderLeafLabels}},{text:"Align labels",handler:function(C){return C.toggleAlignLeafLabels()},isActive:function(C){return C.state.alignLabels}}],[{text:"Fit in panel",handler:function(C){return C.fitInPanel()}},{text:"Expand collapsed subtrees",visible:function(C){return C.state.collapsedIds.length>0},handler:function(C){return C.resetCollapsedNodes({refit:!0})}},{text:"Redraw original tree",handler:function(C){return C.setSource(C.nodes.originalSource)}}],[function(C,e){return h(C,e,"Export leaf labels")},function(C,e){return function(C,e,t){var n=C.contextMenu,r=C.state.selectedIds,a=n.filenames;return 0===r.length?null:v(t,a.leafLabels,(function(){return p(C.getNodeLabels(r).join("\n"))}))}(C,0,"Export selected labels")},function(C,e){return m(C,e,"Export as newick file")},function(C,e){return function(C,e,t){return v(t,C.contextMenu.filenames.image,(function(){return C.ctx.canvas.toDataURL()}))}(C,0,"Export as image")}],d],y=[[{text:function(C,e){return-1===C.state.collapsedIds.indexOf(e.id)?"Collapse subtree":"Expand subtree"},handler:function(C,e){return C.collapseNode(e,{refit:!0})}},{text:"Rotate subtree",handler:function(C,e){return C.rotateNode(e,{refit:!1})}}],[{text:"View subtree",handler:function(C,e){return C.setRoot(e)}},{text:"Re-root tree",handler:function(C,e){return C.rerootNode(e)}}],[function(C,e){return h(C,e,"Export subtree leaf labels")},function(C,e){return m(C,e,"Export subtree as newick file")}],d],b={image:"phylocanvas.png",leafLabels:"phylocanvas-leaf-labels.txt",newick:"phylocanvas.nwk"};function g(C,e){var t=Object.keys(C);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(C);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(C,e).enumerable}))),t.push.apply(t,n)}return t}function M(C,e,t){return e in C?Object.defineProperty(C,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):C[e]=t,C}function E(C,e){return function(C){if(Array.isArray(C))return C}(C)||function(C,e){if(!(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C)))return;var t=[],n=!0,r=!1,a=void 0;try{for(var o,c=C[Symbol.iterator]();!(n=(o=c.next()).done)&&(t.push(o.value),!e||t.length!==e);n=!0);}catch(C){r=!0,a=C}finally{try{n||null==c.return||c.return()}finally{if(r)throw a}}return t}(C,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function w(C){return function(C){if(Array.isArray(C)){for(var e=0,t=new Array(C.length);e<C.length;e++)t[e]=C[e];return t}}(C)||function(C){if(Symbol.iterator in Object(C)||"[object Arguments]"===Object.prototype.toString.call(C))return Array.from(C)}(C)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.default=function(C,e){function t(e){var t=n.utils.mapPoint(C,e.offsetX,e.offsetY),r=C.getNodeAtPoint(t.x,t.y);C.contextMenu.open(e.pageX,e.pageY,r?r.id:null)}e("init",(function(e,t){var n=e.apply(void 0,w(t)),o=E(t,1)[0].contextMenu,c=void 0===o?{}:o;return C.contextMenu={},C.contextMenu.invalidate=!0,c&&"string"==typeof c.parent?C.contextMenu.parent=document.querySelector(c.parent):c&&(C.contextMenu.parent=c.parent),C.contextMenu.parent||(C.contextMenu.parent=document.body),C.contextMenu.el=document.createElement("ul"),C.contextMenu.el.className="phylocanvas-context-menu",C.contextMenu.parent.appendChild(C.contextMenu.el),C.contextMenu.treeMenuItems=a(x,c.treeMenuItems),C.contextMenu.nodeMenuItems=a(y,c.nodeMenuItems),C.contextMenu.filenames=function(C){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?g(Object(t),!0).forEach((function(e){M(C,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(e){Object.defineProperty(C,e,Object.getOwnPropertyDescriptor(t,e))}))}return C}({},b,{},c.filenames),C.contextMenu.open=l.bind(null,C),C.contextMenu.close=r.bind(null,C),n}));var o=function(){C.contextMenu.touching=!0};C.ctx.canvas.addEventListener("touchstart",o);var c=function(e){e.preventDefault(),C.contextMenu.touching&&(t(e),C.contextMenu.touching=!1)};C.ctx.canvas.addEventListener("contextmenu",c);var i=function(e){(C.contextMenu.isOpen||!C.contextMenu.isOpen&&2===e.button)&&e.stopImmediatePropagation()};C.ctx.canvas.addEventListener("mousedown",i);var u=function(e){2===e.button?(e.stopImmediatePropagation(),t(e)):C.contextMenu.isOpen&&(e.stopImmediatePropagation(),C.contextMenu.close())};C.ctx.canvas.addEventListener("mouseup",u),e("mergeState",(function(e,t){var n=C.contextMenu;n.isOpen&&n.invalidate&&n.close(),n.invalidate=!0,e.apply(void 0,w(t))})),e("destroy",(function(e,t){C.contextMenu.parent.removeChild(C.contextMenu.el),C.ctx.canvas.removeEventListener("touchstart",o),C.ctx.canvas.removeEventListener("contextmenu",c),C.ctx.canvas.removeEventListener("mousedown",i),C.ctx.canvas.removeEventListener("mouseup",u),e.apply(void 0,w(t))}))}}])}));
//# sourceMappingURL=phylocanvas-plugin-context-menu.js.map